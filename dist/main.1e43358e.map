{"version":3,"sources":["src/models/abstract/AbstractModel.js","src/models/Todo.js","src/components/UI.js","src/utils/Errors.js","src/utils/Validation.js","src/utils/actions.js","src/main.js"],"names":["AbstractModel","store","JSON","parse","localStorage","getItem","id","console","log","filter","todo","data","push","setItem","stringify","storeState","item","title","newStore","edited","setStore","Todo","Math","floor","random","completed","addTodo","getTodo","getTodos","editTodo","deleteTodo","UI","state","all","map","showTodo","appHook","document","getElementById","ul","createElement","li","innerHTML","appendChild","errorArray","length","alerts","forEach","error","Errors","errors","errMsg","Validation","rules","valid","rule","index","callbacks","split","callback","value","fieldName","Object","keys","lessThan","_name","set","empty","field","trim","handleBtnClick","btn","addEventListener","_input","name","newTodo","validate","save","renderErrors","get","window","showTodos"],"mappings":"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","file":"main.1e43358e.map","sourceRoot":"..","sourcesContent":["\nexport default class AbstractModel {\n    \n    constructor()\n    {\n        AbstractModel.store = JSON.parse(localStorage.getItem(\"_todos\")) || \"[]\";      \n    }\n\n    static storeState(data) \n    {\n        AbstractModel.store.push(data);\n        localStorage.setItem(\"_todos\", JSON.stringify(AbstractModel.store));\n    }\n\n    static setStore(data)\n    {\n        // console.log(data);\n        AbstractModel.storeState(data);\n    }\n\n    static getTodos() {\n        return localStorage.getItem(\"_todos\");\n    }\n\n    static getTodo(id){\n        if(id===null) {\n\t\t\treturn console.log(\"function expects exactly 1 arg. 0 passed\");\n\t\t}\n        return AbstractModel.store.filter(item => item.id === id );\n    }\n\n    static editTodo(id=null, title=null) {\n        if(id===null || title===null) {\n\t\t\treturn console.log(\"Update function expects exactly 1 arg. 0 passed\");\n\t\t}\n        let todo = AbstractModel.store.filter(item => item.id === id );\n        if(todo) {\n            todo.title = title;\n            let newStore = [...this.store, edited];\n            this.setStore(newStore);\n            return true;\n        } \n        \n        return console.log('Cannot find todo');    \n    }\n\n    static addTodo(data)\n    {\n        // console.log(data);\n        AbstractModel.setStore(data);\n        return true;\n    }\n\n    deleteTodo(id) \n    {\n        if(id===null) {\n            return console.log(\"Remove function expects exactly 1 arg. 0 passed\");\n        }\n        this.store = AbstractModel.store.filter(todo => todo.id !== id );\n        return true;\n    }\n}\n","import AbstractModel  from './abstract/AbstractModel';\n\n// todo model\nexport default class Todo extends AbstractModel \n{\n\tconstructor(title = null) \n\t{\n\t\tsuper();\n\t  \tthis.id = Math.floor(Math.random() * 100);\n\t  \tthis.title = title;\n\t  \tthis.completed = false;\n\t}\n\n\tstatic get(id=null) \n\t{\n\t\treturn AbstractModel.getTodo(id);\n\t}\n\n\tstatic all()\n\t{\n\t\treturn AbstractModel.getTodos();\n\t}\n\n\tsave() \n\t{\n\t\tif(this.title === null) {\n\t\t\treturn console.log(\"cannot pass empty model title\");\n\t\t}\n\t\tconst data = { id: this.id, title: this.title, completed: this.completed };\n\t\tAbstractModel.addTodo(data);\n\t\treturn this;\n\t}\n\n\tstatic update(id, title) \n\t{\n\t\treturn AbstractModel.editTodo(id, title);\n\t}\n\n\tstatic remove(id=null) \n\t{\n\t\treturn AbstractModel.deleteTodo(id);\n\t}\n}\n","import Todo from '../models/Todo';\n\n// create DOM elements ref: https://davidwalsh.name/documentfragment\nexport default class UI \n{\n    static showTodos() \n    {\n\t\tUI.state = JSON.parse(Todo.all());\n\t\tUI.state.map(todo => UI.showTodo(todo));\n\t}\n\n    static showTodo(todo) \n    {\n\t    const appHook = document.getElementById(\"app\");\n\t    const ul = document.createElement(\"ul\");\n\t\tconst li = document.createElement(\"li\");\n\n\t\tli.innerHTML = todo.title;\n\t\tul.appendChild(li);\n\t\tappHook.appendChild(ul);\n\t}\n\n\tstatic renderErrors(errorArray=[])\n\t{\n\t\tif(errorArray.length === 0) \n\t\t{\n\t\t\treturn console.log('expect error array not to be empty');\n\t\t}\n\n\t\tconst alerts = document.getElementById('display-alerts');\n\t\tlet ul = document.createElement(\"ul\");\n\n\t\terrorArray.forEach(error => {\n\t\t\tlet li = document.createElement(\"li\");\n\t\t\tli.innerHTML = error;\n\t\t\tul.appendChild(li);\n\t\t});\n\n\t\talerts.appendChild(ul);\n\t}\n}\n","export default class Errors \n{\n    constructor()\n    {\n        Errors.errors = [];\n    } \n\n    static get()\n    {\n        return Errors.errors;\n    }\n\n    static set(errMsg=null)\n    {\n        Errors.errors.push(errMsg);\n    }\n}","import Errors from './Errors';\n\nexport default class Validation \n{\n\n    static validate(rules, data) \n    {\n        let valid = true;\n\n        rules.forEach((rule, index) => {\n\n            let callbacks = rule.title.split('|');\n\n            callbacks.forEach(callback => {\n\n                let value = (data[index]) ? data[index] : null;\n\n                let fieldName = Object.keys(data[0])[0];\n\n                if(Validation[callback](value, fieldName) === false) \n                { \n                    valid = false\n                }\n                \n            });\n        });\n\n        return valid;\n    }\n\n    static min(value=null, fieldName)\n    {\n        let valid = null;\n\n        if(Validation.lessThan(value._name) === true) \n        {\n            valid = false;\n            Errors.set(`${fieldName} must be more than 5 characters.`);\n        }  \n        else {\n            valid = true;\n        }\n\n        return valid;\n    }\n\n    static required(value=null, fieldName)\n    {\n        let valid = null;\n\n        if(Validation.empty(value._name) ===true) \n        {\n            valid = false;\n            Errors.set(`${fieldName} is reqired`);\n        } else {\n            valid = true;\n        }\n\n        return valid;\n    }\n\n    static empty(field=null)\n    {\n        return (field ===null || field.trim().length===0) ? true : false;\n    }\n\n    static lessThan(field=null)\n    {\n        return (field.length <= 5) ? true : false;\n    }\n\n}","import Todo from '../models/Todo';\nimport UI from '../components/UI';\nimport Validation from '../utils/Validation';\nimport Errors from './Errors';\n\nconst handleBtnClick = () => {\n\n    const btn = document.getElementById(\"btn\");\n\n    btn.addEventListener(\"click\", () => {\n\n        const rules = [{ title: 'required|min' }];\n        const _input = document.getElementById(\"new-todo\");\n        const _name = _input.name;\n        const newTodo = _input.value;\n\n        new Errors();\n\n        if(Validation.validate(rules, [{ _name: newTodo }])===true)\n        {\n            const todo = new Todo(newTodo);\n            todo.save();\n            UI.showTodo(todo);\n            _input.value = \"\";\n            console.log('we good!');\n        } else {\n            UI.renderErrors(Errors.get());\n            console.log(Errors.get());\n        }\n    });\n};\n\nexport { handleBtnClick };","import UI from './components/UI';\nimport { handleBtnClick } from './utils/actions';\n\n// display todos when DOM loads\nwindow.document.addEventListener(\"DOMContentLoaded\", function() {\n\t//display data\n\tUI.showTodos();\n});\n\n// add new todo\nhandleBtnClick();\n  "]}